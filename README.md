<div align="center">
	
![bak1](https://github.com/lankai7/NewChatServer_windows/assets/133182950/fd717fc9-48a0-4e54-91d5-ebbc64feb575)

 <h1 align="center">NewChat(Client)</h1>

 ç®€ä½“ä¸­æ–‡ / [English](./README_US.md)
	
NewChatæœåŠ¡å™¨----åŸºäºQtæ¡†æ¶çš„tcp/ipèŠå¤©å®¤æœåŠ¡å™¨ -windowsç‰ˆæœ¬ï¼ˆåç»­ä¼šæœ‰linuxç‰ˆï¼‰

å¿«æ·ç®€ä¾¿çš„æ„å»ºè‡ªå·±çš„ç§äººæœåŠ¡å™¨ï¼Œå†ä¹Ÿä¸æ€•èŠå¤©ä¿¡æ¯æ³„éœ²äº†

NewChatå®¢æˆ·ç«¯ï¼šhttps://github.com/lankai7/NewChat

[![standard-readme compliant](https://camo.githubusercontent.com/da0e1f4bf0a54a3283639676aa88bfcc5b3ee3377e9246b6de813371e17cf54e/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f2d57696e646f77732d626c75653f6c6f676f3d77696e646f7773)](https://github.com/lankai7/NewChatServer_windows/tree/master)

[å®¢æˆ·ç«¯](https://github.com/lankai7/NewChat) / [æœåŠ¡ç«¯](https://github.com/lankai7/NewChatServer_windows) / [åé¦ˆ](https://github.com/lankai7/NewChatServer_windows/issues)

</div>

## NewChat_Server

"NewChat_Server" æ˜¯ä¸€ä¸ªåŸºäº C/C++ æ¡†æ¶çš„ TCP/IP èŠå¤©å®¤æœåŠ¡å™¨ï¼Œæ—¨åœ¨ä¸ºç”¨æˆ·æä¾›å®æ—¶çš„æ–‡æœ¬ã€å›¾åƒã€è¯­éŸ³ã€èŠå¤©åŠŸèƒ½ã€‚å®ƒå¯ä»¥ä¸å¤šä¸ªå®¢æˆ·ç«¯å»ºç«‹ TCP è¿æ¥ï¼Œå¹¶ä¸”å…è®¸å®¢æˆ·ç«¯ä¹‹é—´è¿›è¡Œå³æ—¶é€šè®¯,åˆ©ç”¨äº†Qtè¿›è¡Œå›¾å½¢ç•Œé¢è®¾è®¡ã€‚

ä»¥ä¸‹æ˜¯è¯¥æœåŠ¡å™¨çš„ä¸€èˆ¬åŠŸèƒ½å’Œç‰¹ç‚¹ï¼š

1.é‡‡ç”¨[TCP/IP åè®®](https://baike.baidu.com/item/TCP%2FIP%E5%8D%8F%E8%AE%AE/212915?fr=ge_ala)çš„è¿æ¥ç®¡ç†æ–¹å¼ã€‚

2.ç®€å•ä¾¿æ·çš„æ¶ˆæ¯ä¼ é€’ï¼Œæ”¯æŒæ–‡å­—ã€å›¾ç‰‡ã€è¯­éŸ³ã€æ–‡ä»¶ç­‰**å¤šç§æ•°æ®ä¼ è¾“**ã€‚

3.ç®€ä¾¿çš„ç”¨æˆ·ç®¡ç†ï¼Œ**å³æ—¶**æŸ¥çœ‹ä¸ç®¡ç†ã€‚

4.**ç»Ÿä¸€**çš„æ¶ˆæ¯æ ¼å¼ï¼Œä¾¿äºæŸ¥çœ‹ä¸é˜…è¯»ã€‚

5.Qtå¹³å°è®¾è®¡å›¾å½¢ç•Œé¢ï¼Œåˆ†å¸ƒç²¾ç¾ã€‚

6.å…·æœ‰**è‰¯å¥½çš„å®‰å…¨æ€§**ï¼Œé˜²æ­¢æ¶ˆæ¯æ³„éœ²ã€‚

7.æ‹¥æœ‰**æ—¥å¿—è®°å½•**ä¸è¾“å‡ºï¼Œè‡ªåŠ¨**è®°å½•åœ¨æ–‡ä»¶**ä¸­ï¼Œä¾¿äºæŸ¥è¯¢é—®é¢˜ã€‚

8.åˆ©ç”¨**C/C++ä½œä¸ºåº•å±‚é€»è¾‘**ï¼Œå…·æœ‰è‰¯å¥½çš„**è·¨å¹³å°æ€§**ã€‚

Chat_Server æœåŠ¡å™¨ä¸ºç”¨æˆ·æä¾›äº†ä¸€ä¸ªæ–¹ä¾¿ã€å®æ—¶çš„èŠå¤©å®¤å¹³å°ï¼Œä½¿ç”¨æˆ·èƒ½å¤Ÿè½»æ¾åœ°ä¸å…¶ä»–ç”¨æˆ·è¿›è¡Œæ²Ÿé€šå’Œäº¤æµã€‚


## å†…å®¹åˆ—è¡¨

- [èƒŒæ™¯](#èƒŒæ™¯)
- [å®‰è£…](#å®‰è£…)
- [ä½¿ç”¨è¯´æ˜](#ä½¿ç”¨è¯´æ˜)
	- [æ‰“åŒ…](#æ‰“åŒ…)
- [å¾½ç« ](#å¾½ç« )
- [æ›´æ–°](#æ›´æ–°)
- [ç›¸å…³ä»“åº“](#ç›¸å…³ä»“åº“)
- [ç»´æŠ¤è€…](#ç»´æŠ¤è€…)
- [å¦‚ä½•è´¡çŒ®](#å¦‚ä½•è´¡çŒ®)
- [ä½¿ç”¨è®¸å¯](#ä½¿ç”¨è®¸å¯)

## èƒŒæ™¯

`NewChat` æœ€å¼€å§‹å› ä¸ºæœ¬äººåœ¨å¤§å­¦æœŸé—´å­¦ä¹ linuxè¯¾ç¨‹å­¦æœŸæœ«æ—¶ï¼Œåœ¨**linuxç³»ç»Ÿ**ä¸‹è®¾è®¡äº†ä¸€æ¬¾èŠå¤©å®¤åº”ç”¨ï¼Œå½“æ—¶åœ¨linuxç³»ç»Ÿä¸‹åˆæ­¥å®Œæˆäº†ä»¥**Cè¯­è¨€**ä¸ºæ ¸å¿ƒçš„[Socketé€šä¿¡](https://baike.baidu.com/item/sockets/3505925?fr=aladdin) é¡¹ç›®é›å½¢ã€‚ä¹‹åæ­¥å…¥å¯’å‡ï¼Œç”±äºå¯’å‡å‡æœŸæ— èŠï¼Œäºæ˜¯æƒ³ç€åœ¨**windowsç³»ç»Ÿ**ä¸‹åˆ©ç”¨[Qt](https://baike.baidu.com/item/Qt/451743?fr=ge_ala) è¿›è¡Œç•Œé¢è®¾è®¡ï¼Œé‡æ–°è®¾è®¡ä¸€ä¸‹æ­¤åº”ç”¨ï¼Œäºæ˜¯è¿™ä¸ªé¡¹ç›®ç”±æ­¤äº§ç”Ÿã€‚

> åœ¨windowsä¸Šè¿›è¡Œé‡å†™æ—¶ï¼Œç¬¬ä¸€æ—¶é—´å…ˆåœ¨vsä¸Šé‡æ–°äº†æ„é€ äº†linuxä¸‹çš„æ ¸å¿ƒå†…å®¹ï¼Œå¹¶ä¸”å°†ç¼–è¯‘è¯­è¨€ä»Cè¯­è¨€é€æ­¥**å‘C++è¿‡æ¸¡**ï¼Œæœ€åè®¾è®¡æˆä»¥C++ä¸ºä¸»çš„æ ¸å¿ƒä»£ç ã€‚

> æ ¸å¿ƒåŠŸèƒ½å®ç°ä¹‹åï¼Œä¾¿æƒ³åˆ°äº†åˆ©ç”¨Qtæ¥è¿›è¡Œå›¾å½¢ç•Œé¢è®¾è®¡ï¼Œè™½ç„¶Qtæœ‰è‡ªèº«çš„QSocketé€šè®¯ï¼Œä½†æ˜¯æœ€åè¿˜æ˜¯ä¿ç•™äº†**C/C++çš„æ–¹å¼**ï¼Œå› ä¸ºQSocketåŒæ ·æ˜¯å°è£…çš„C/C++çš„æ–¹å¼ï¼Œä¸ºäº†è‡ªå·±æ›´å¥½åœ°å­¦ä¹ ï¼Œé‡‡ç”¨åº•å±‚é€»è¾‘æ›´æœ‰åŠ©äºè‡ªèº«çš„çŸ¥è¯†ç§¯ç´¯ã€‚

éƒ¨åˆ†åŠŸèƒ½å·²ç»å®ç°å®Œæˆï¼Œä¸»è¦çš„åŠŸèƒ½å·²ç»å°½æ•°å®Œç»“ï¼Œä½†ä¸ºäº†åº”ç”¨æ›´åŠ å®Œå¤‡ï¼Œå°†ä¼šæ…¢æ…¢çš„ç»§ç»­æ›´æ–°å†…å®¹ã€‚

åŒæ—¶ï¼Œæ­¤åº”ç”¨å®Œå…¨ç”±è‡ªå·±æ„æ€è®¾è®¡ï¼Œåœ¨ç°ä»£æŠ€æœ¯chat-GPTçš„å¸®åŠ©ä¸‹äº‹åŠåŠŸå€ã€‚

å¯¹äºç°ä»£é€šä¿¡æ¥è¯´ï¼š

1. åŸºäºå¯¹å½“å‰ç½‘ç»œé€šä¿¡å’Œå³æ—¶é€šè®¯åº”ç”¨çš„éœ€æ±‚å’Œè¶‹åŠ¿çš„è§‚å¯Ÿå’Œåˆ†æï¼Œäººä»¬å¯¹å³æ—¶é€šè®¯å·¥å…·çš„éœ€æ±‚è¶Šæ¥è¶Šé«˜ã€‚
2. è€ƒè™‘åˆ°ç½‘ç»œé€šä¿¡çš„å®‰å…¨æ€§å’Œç¨³å®šæ€§ï¼Œç¡®ä¿ç”¨æˆ·çš„ä¿¡æ¯å’Œé€šä¿¡å†…å®¹ä¸ä¼šè¢«æ³„éœ²æˆ–è€…ç¯¡æ”¹ï¼Œå±€åŸŸç½‘é€šä¿¡æ˜¯ä¸é”™çš„æ–¹æ³•ã€‚
3. ç°ä»£ç”Ÿæ´»äººä»¬ç”Ÿæ´»åœ¨ç½‘ç»œä¸­ï¼Œå‡ ä¹äººäººéƒ½æ˜¯é€æ˜çš„ï¼Œä¸€æ¬¾ç®€å•æ–¹ä¾¿çš„å®¶åº­ä¾¿æ·è”ç³»æ–¹å¼å°†ä¼šæœ‰æ•ˆçš„ä¿æŠ¤äººä»¬éšç§ã€‚
4. NewChatä¸ä»…ä»…å±€é™äºå±€åŸŸç½‘ï¼Œåœ¨å¹¿åŸŸç½‘ä¸­åŒæ ·å¯ç”¨ã€‚
5. è‡ªå·±æ¶è®¾æœåŠ¡å™¨è¿›è¡Œè¿æ¥ï¼Œæ„å»ºè‡ªå·±çš„ç§äººèŠå¤©å®¤ã€‚

## å®‰è£…

è¿™ä¸ªé¡¹ç›®ä½¿ç”¨ [C++](https://zh.wikipedia.org/zh-cn/C%2B%2B) å’Œ [Qt](https://doc.qt.io/)ã€‚ ç¼–è¯‘ã€‚å¦‚æœæƒ³è¦æ„å»ºé¡¹ç›®ï¼Œè¯·ä½¿ç”¨Qt4~Qt5ç‰ˆæœ¬.

```sh
$ Qt-versionï¼š5.12.10
$ C++ 11
```

åç»­ä¼šæ·»åŠ å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨çš„å®‰è£…åŒ…ï¼Œä¸ç”¨æ„å»ºé¡¹ç›®ï¼Œç›´æ¥ä¸‹è½½åº”ç”¨ï¼

## ä½¿ç”¨è¯´æ˜

å°†é¡¹ç›®æ–‡ä»¶å®Œæ•´ä¸‹è½½è§£å‹åï¼Œä½¿ç”¨Qtæ‰“å¼€é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹çš„.proæ–‡ä»¶ï¼Œé€‰æ‹©ç»„ä»¶æ„ç­‘é¡¹ç›®ã€‚

**é¡¹ç›®æ–‡ä»¶æ„æˆï¼š**
```sh
Chat_Server/	//é¡¹ç›®æ–‡ä»¶å¤¹
â”‚
â”œâ”€â”€â”€â”€ icon/		//å›¾æ ‡æ–‡ä»¶
â”‚
â”œâ”€â”€â”€â”€ res/	
â”‚	â”‚
â”‚	â””â”€â”€ pic/	//èƒŒæ™¯æ–‡ä»¶
â”‚
â”œâ”€â”€â”€â”€ Chat_Server.pro	//é¡¹ç›®æ–‡ä»¶
â”‚
â”œâ”€â”€â”€â”€ xx.h	//å¤´æ–‡ä»¶
â”‚
â”œâ”€â”€â”€â”€ xx.cpp	//ä»£ç 
â”‚
â”œâ”€â”€â”€â”€ xx.ui	//uiæ–‡ä»¶
â”‚
â””â”€â”€â”€â”€ xx.qrc	//èµ„æºäºŒè¿›åˆ¶æ–‡ä»¶
```

å¯¹äº**æ—¥å¿—æ–‡ä»¶**ï¼Œåœ¨é¡¹ç›®æ„å»ºçš„ç›®å½•ä¸‹ä¼šè‡ªåŠ¨ç”Ÿæˆ/log/æ–‡ä»¶å¤¹ï¼Œæ—¥å¿—æ–‡ä»¶ä¿å­˜åœ¨ä»¥è¾“å‡ºæ—¶çš„æ—¥æœŸä½œä¸ºåå­—çš„txtæ–‡ä»¶ä¸­ï¼Œæ—¥å¿—æ–‡ä»¶ä¸­å¸¦æœ‰è¾“å‡ºæ—¶çš„æ—¶é—´ã€‚

å…¶ä¸­æ—¥å¿—æ–‡ä»¶æ–‡ä»¶å¤¹åˆ›å»ºï¼š

```sh
/*------------------æ—¥å¿—æ–‡ä»¶æ–‡ä»¶å¤¹åˆ›å»º--------------------*/
//åˆ›å»ºæ—¥å¿—æ–‡ä»¶å¤¹
    QString folderName = "logs";
        QDir dir;
        if (!dir.exists(folderName)) {
            if (dir.mkdir(folderName)) {
                qDebug() << "Folder created successfully: " << folderName;
            } else {
                qDebug() << "Failed to create folder: " << folderName;
            }
        } else {
            qDebug() << "Folder already exists: " << folderName;
        }
```

å¯¹æœåŠ¡å™¨ä¸­é€šè®¯è¿æ¥çš„**IPä¸ç«¯å£å·çš„æ›´æ”¹**åœ¨widget.hå¤´æ–‡ä»¶ä¸­ï¼š
>âš ï¸ æ³¨æ„ï¼šå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨çš„çš„IPä¸ç«¯å£å·**å¿…é¡»ä¸€è‡´**æ‰å¯ä»¥è¿›è¡Œé€šè®¯

```sh
    //ipä¸ç«¯å£å· 
    const char* c_ip = "127.0.0.1";
    const int c_PROT = 9999;
```

æŠ¥é”™å®å®šä¹‰æ ¼å¼ï¼š

```sh
//æŠ¥é”™å®å®šä¹‰
#define err(errMsg) printf("[Error] %s failed,code: %d line:%d \n",errMsg,WSAGetLastError(),__LINE__);
```

### æ‰“åŒ…

æƒ³è¦å°†é¡¹ç›®æ‰“åŒ…æˆå¯æ‰§è¡Œåº”ç”¨çš„è¯ï¼Œè¯·å‚è€ƒ [QTå¦‚ä½•æ‰“åŒ…ç”Ÿæˆç‹¬ç«‹å¯æ‰§è¡Œ.exeæ–‡ä»¶](https://blog.csdn.net/weixin_44788542/article/details/130604790)ã€‚

>æœ‰ä¸€ä¸ªQtå‘½ä»¤ç»ˆç«¯æ¥æ‰“åŒ…åº”ç”¨æ‰€éœ€çš„ç¯å¢ƒä¸èµ„æºï¼Œå¯ä»¥åœ¨Qtæ–‡ä»¶å¤¹ä¸­æ‰¾åˆ° `qtenv2.bat`ã€‚ç›®å½•ä½ç½®ï¼š

```sh
QT\5.12.10\mingw73_64\bin\qtenv2.bat
```

>åˆ›å»ºä¸€ä¸ªå¿«æ·æ–¹å¼ï¼Œç›®æ ‡æ·»åŠ å‰ç¼€C:\Windows\System32\cmd.exeï¼š/A /Q /K 

```sh
C:\Windows\System32\cmd.exe /A /Q /K C:\xxxx\QT\5.12.10\mingw73_64\bin\qtenv2.bat
#C:\xxxx\QT\5.12.10\mingw73_64\bin\qtenv2.bat æ”¹æˆqtenv2.batçš„åœ°å€
```
>åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶å¤¹ï¼Œå°†é¡¹ç›®æ„å»ºçš„è¿è¡Œæ–‡ä»¶Chat_Server.exeæ–‡ä»¶æ”¾å…¥å…¶ä¸­(æ¨èä½¿ç”¨Releaseæ„å»ºï¼‰ï¼Œè¿è¡Œqtenv2.bat,è¾“å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼š

```sh
cd C:\xxx\xxx\   è¿™é‡Œæ˜¯æ–°å»ºçš„æ–‡ä»¶å¤¹ä½ç½®
windeployqt Chat_Server.exe
```
>ç­‰å¾…åŠ è½½å®Œåå³æ‰“åŒ…æˆåŠŸï¼Œå¯ä»¥æ‰“å¼€NewChat.exeæ–‡ä»¶å°è¯•æ˜¯å¦æˆåŠŸã€‚

## å¾½ç« 

[![standard-readme compliant](https://img.shields.io/badge/readme%20style-standard-brightgreen.svg?style=flat-square)](https://github.com/RichardLitt/standard-readme)

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)


## æ›´æ–°

- ğŸš€ v1.0 å·²ç»å‘å¸ƒï¼Œç°åœ¨ä½ å¯ä»¥ç®€æ´çš„åˆ›å»ºèŠå¤©æœåŠ¡å™¨ï¼Œç®€ä¾¿çš„æ§åˆ¶æœåŠ¡å™¨å¼€å…³ï¼ŒæŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—æ–‡ä»¶ï¼

## ç›¸å…³ä»“åº“

- [NewChat](https://github.com/lankai7/NewChat) â€” NewChatå®¢æˆ·ç«¯ã€‚

## ç»´æŠ¤è€…

[@lankai7](https://github.com/lankai7)ã€‚

## å¦‚ä½•è´¡çŒ®

éå¸¸æ¬¢è¿ä½ çš„åŠ å…¥ï¼[æä¸€ä¸ª Issue](https://github.com/lankai7/NewChatServer_windows/issues/new) æˆ–è€…æäº¤ä¸€ä¸ª Pull Requestã€‚


## ä½¿ç”¨è®¸å¯

[MIT](LICENSE) Â© Richard Littauer

